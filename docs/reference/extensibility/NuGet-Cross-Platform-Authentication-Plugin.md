---
title: Víceplatformní ověřovací moduly plug-in NuGet
description: Moduly plug-in pro ověřování na různých platformách NuGet pro NuGet. exe, dotnet. exe, MSBuild. exe a Visual Studio
author: nkolev92
ms.author: nikolev
ms.date: 07/01/2018
ms.topic: conceptual
ms.openlocfilehash: a716737343ea826d28da6de46c32ca73aef590bd
ms.sourcegitcommit: efc18d484fdf0c7a8979b564dcb191c030601bb4
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/18/2019
ms.locfileid: "68317281"
---
# <a name="nuget-cross-platform-authentication-plugin"></a><span data-ttu-id="8740e-103">Víceplatformní ověřovací moduly plug-in NuGet</span><span class="sxs-lookup"><span data-stu-id="8740e-103">NuGet cross platform authentication plugin</span></span>

<span data-ttu-id="8740e-104">Ve verzi 4.8 + můžou všichni klienti NuGet (NuGet. exe, Visual Studio, dotnet. exe a MSBuild. exe) používat modul plug-in pro ověřování sestavený nad modelem [modulů plug-in NuGet pro různé platformy](NuGet-Cross-Platform-Plugins.md) .</span><span class="sxs-lookup"><span data-stu-id="8740e-104">In version 4.8+, all NuGet clients (NuGet.exe, Visual Studio, dotnet.exe and MSBuild.exe) can use an authentication plugin built on top of the [NuGet cross platform plugins](NuGet-Cross-Platform-Plugins.md) model.</span></span>

## <a name="authentication-in-dotnetexe"></a><span data-ttu-id="8740e-105">Ověřování v příkazu dotnet. exe</span><span class="sxs-lookup"><span data-stu-id="8740e-105">Authentication in dotnet.exe</span></span>

<span data-ttu-id="8740e-106">Visual Studio a NuGet. exe jsou ve výchozím nastavení interaktivní.</span><span class="sxs-lookup"><span data-stu-id="8740e-106">Visual Studio and NuGet.exe are by default interactive.</span></span> <span data-ttu-id="8740e-107">NuGet. exe obsahuje přepínač, který ho [neinteraktivní](../nuget-exe-CLI-Reference.md).</span><span class="sxs-lookup"><span data-stu-id="8740e-107">NuGet.exe contains a switch to make it [non interactive](../nuget-exe-CLI-Reference.md).</span></span>
<span data-ttu-id="8740e-108">Navíc nástroje NuGet. exe a moduly plug-in sady Visual Studio vyzvat uživatele ke vstupu.</span><span class="sxs-lookup"><span data-stu-id="8740e-108">Additionally the NuGet.exe and Visual Studio plugins prompt the user for input.</span></span>
<span data-ttu-id="8740e-109">V příkazu dotnet. exe není žádné výzvy a výchozí hodnota není interaktivní.</span><span class="sxs-lookup"><span data-stu-id="8740e-109">In dotnet.exe there is no prompting and the default is non interactive.</span></span>

<span data-ttu-id="8740e-110">Mechanismus ověřování v příkazu dotnet. exe je tok zařízení.</span><span class="sxs-lookup"><span data-stu-id="8740e-110">The authentication mechanism in dotnet.exe is device flow.</span></span> <span data-ttu-id="8740e-111">Pokud se operace obnovení nebo přidání balíčku spustí interaktivně, zablokují se operace a pokyny pro uživatele, jak dokončit ověřování, k dispozici na příkazovém řádku.</span><span class="sxs-lookup"><span data-stu-id="8740e-111">When the restore or add package operation is run interactively, the operation blocks and instructions to the user how to complete the authentications will be provided on the command line.</span></span>
<span data-ttu-id="8740e-112">Když uživatel dokončí ověřování, operace bude pokračovat.</span><span class="sxs-lookup"><span data-stu-id="8740e-112">When the user completes the authentication the operation will continue.</span></span>

<span data-ttu-id="8740e-113">Aby byla operace interaktivní, jedna by se měla `--interactive`předat.</span><span class="sxs-lookup"><span data-stu-id="8740e-113">To make the operation interactive, one should pass `--interactive`.</span></span>
<span data-ttu-id="8740e-114">V současné době pouze `dotnet restore` explicitní `dotnet add package` příkazy a podporují interaktivní přepínač.</span><span class="sxs-lookup"><span data-stu-id="8740e-114">Currently only the explicit `dotnet restore` and `dotnet add package` commands support an interactive switch.</span></span>
<span data-ttu-id="8740e-115">V `dotnet build` a`dotnet publish`není k dispozici žádný interaktivní přepínač.</span><span class="sxs-lookup"><span data-stu-id="8740e-115">There is no interactive switch on `dotnet build` and `dotnet publish`.</span></span>

## <a name="authentication-in-msbuild"></a><span data-ttu-id="8740e-116">Ověřování v nástroji MSBuild</span><span class="sxs-lookup"><span data-stu-id="8740e-116">Authentication in MSBuild</span></span>

<span data-ttu-id="8740e-117">Podobně jako dotnet. exe, MSBuild. exe je ve výchozím nastavení neinteraktivním mechanismem ověřování MSBuild. exe je tok zařízení.</span><span class="sxs-lookup"><span data-stu-id="8740e-117">Similar to dotnet.exe, MSBuild.exe is by default non interactive the MSBuild.exe authentication mechanism is device flow.</span></span>
<span data-ttu-id="8740e-118">Chcete-li obnovit pozastavení a čekání na ověření, zavolejte příkaz Restore `msbuild -t:restore -p:NuGetInteractive="true"`with.</span><span class="sxs-lookup"><span data-stu-id="8740e-118">To allow the restore to pause and wait for authentication, call restore with `msbuild -t:restore -p:NuGetInteractive="true"`.</span></span>

## <a name="creating-a-cross-platform-authentication-plugin"></a><span data-ttu-id="8740e-119">Vytvoření modulu plug-in pro ověřování pro různé platformy</span><span class="sxs-lookup"><span data-stu-id="8740e-119">Creating a cross platform authentication plugin</span></span>

<span data-ttu-id="8740e-120">Ukázkovou implementaci najdete v [modulu plug-in zprostředkovatele přihlašovacích údajů Microsoftu](https://github.com/Microsoft/artifacts-credprovider).</span><span class="sxs-lookup"><span data-stu-id="8740e-120">A sample implementation can be found in [Microsoft Credential Provider plugin](https://github.com/Microsoft/artifacts-credprovider).</span></span>

<span data-ttu-id="8740e-121">Je velmi důležité, aby moduly plug-in splňovaly požadavky na zabezpečení stanovené klientskými nástroji NuGet.</span><span class="sxs-lookup"><span data-stu-id="8740e-121">It's very important that the plugins conforms to the security requirements set forth by the NuGet client tools.</span></span>
<span data-ttu-id="8740e-122">Minimální požadovaná verze modulu plug-in pro ověřování je *2.0.0*.</span><span class="sxs-lookup"><span data-stu-id="8740e-122">The minimum required version for a plugin to be an authentication plugin is *2.0.0*.</span></span>
<span data-ttu-id="8740e-123">NuGet provede metodu handshake s modulem plug-in a dotazem na podporované deklarace operací.</span><span class="sxs-lookup"><span data-stu-id="8740e-123">NuGet will perform the handshake with the plugin and query for the supported operation claims.</span></span>
<span data-ttu-id="8740e-124">Další podrobnosti o konkrétních zprávách najdete v [zprávách protokolu](NuGet-Cross-Platform-Plugins.md#protocol-messages-index) plug-in pro různé platformy NuGet.</span><span class="sxs-lookup"><span data-stu-id="8740e-124">Please refer to the NuGet cross platform plugin [protocol messages](NuGet-Cross-Platform-Plugins.md#protocol-messages-index) for more details about the specific messages.</span></span>

<span data-ttu-id="8740e-125">NuGet nastaví úroveň protokolu a v případě potřeby poskytne informace o proxy na modul plug-in.</span><span class="sxs-lookup"><span data-stu-id="8740e-125">NuGet will set the log level and provide proxy information to the plugin when applicable.</span></span>
<span data-ttu-id="8740e-126">Protokolování do konzoly NuGet je přijatelné až poté, co NuGet nastaví úroveň protokolu na modul plug-in.</span><span class="sxs-lookup"><span data-stu-id="8740e-126">Logging to the NuGet console is only acceptable after NuGet has set the log level to the plugin.</span></span>

- <span data-ttu-id="8740e-127">Chování ověřování modulu plug-in .NET Framework</span><span class="sxs-lookup"><span data-stu-id="8740e-127">.NET Framework plugin authentication behavior</span></span>

<span data-ttu-id="8740e-128">V .NET Framework můžou moduly plug-in zobrazit uživateli výzvu k zadání vstupu ve formě dialogového okna.</span><span class="sxs-lookup"><span data-stu-id="8740e-128">In .NET Framework, the plugins are allowed to prompt a user for input, in the form of a dialog.</span></span>

- <span data-ttu-id="8740e-129">Chování ověřování modulem plug-in .NET Core</span><span class="sxs-lookup"><span data-stu-id="8740e-129">.NET Core plugin authentication behavior</span></span>

<span data-ttu-id="8740e-130">V rozhraní .NET Core nelze zobrazit dialog.</span><span class="sxs-lookup"><span data-stu-id="8740e-130">In .NET Core, a dialog cannot be shown.</span></span> <span data-ttu-id="8740e-131">Moduly plug-in by měly používat tok zařízení k ověření.</span><span class="sxs-lookup"><span data-stu-id="8740e-131">The plugins should use device flow to authenticate.</span></span>
<span data-ttu-id="8740e-132">Modul plug-in může do nástroje NuGet odeslat zprávy protokolu s pokyny pro uživatele.</span><span class="sxs-lookup"><span data-stu-id="8740e-132">The plugin can send log messages to NuGet with instructions to the user.</span></span>
<span data-ttu-id="8740e-133">Všimněte si, že protokolování je dostupné po nastavení úrovně protokolu na modul plug-in.</span><span class="sxs-lookup"><span data-stu-id="8740e-133">Note that logging is available after the log level has been set to the plugin.</span></span>
<span data-ttu-id="8740e-134">NuGet nebude mít žádný interaktivní vstup z příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="8740e-134">NuGet will not take any interactive input from the command line.</span></span>

<span data-ttu-id="8740e-135">Když klient zavolá modul plug-in s přihlašovacími údaji pro ověření, moduly plug-in musí splňovat přepínač interaktivity a respektovat přepínač pro dialog.</span><span class="sxs-lookup"><span data-stu-id="8740e-135">When the client calls the plugin with a Get Authentication Credentials, the plugins need to conform to the interactivity switch and respect the dialog switch.</span></span> 

<span data-ttu-id="8740e-136">Následující tabulka shrnuje, jak se má modul plug-in chovat pro všechny kombinace.</span><span class="sxs-lookup"><span data-stu-id="8740e-136">The following table summarizes how the plugin should behave for all combinations.</span></span>

| <span data-ttu-id="8740e-137">IsNonInteractive</span><span class="sxs-lookup"><span data-stu-id="8740e-137">IsNonInteractive</span></span> | <span data-ttu-id="8740e-138">CanShowDialog</span><span class="sxs-lookup"><span data-stu-id="8740e-138">CanShowDialog</span></span> | <span data-ttu-id="8740e-139">Chování modulu plug-in</span><span class="sxs-lookup"><span data-stu-id="8740e-139">Plugin behavior</span></span> |
| ---------------- | ------------- | --------------- |
| <span data-ttu-id="8740e-140">true</span><span class="sxs-lookup"><span data-stu-id="8740e-140">true</span></span> | <span data-ttu-id="8740e-141">true</span><span class="sxs-lookup"><span data-stu-id="8740e-141">true</span></span> | <span data-ttu-id="8740e-142">Přepínač IsNonInteractive má přednost před přepínačem dialogu.</span><span class="sxs-lookup"><span data-stu-id="8740e-142">The IsNonInteractive switch takes precedence over the dialog switch.</span></span> <span data-ttu-id="8740e-143">Modul plug-in nemůže automaticky otevřít dialog.</span><span class="sxs-lookup"><span data-stu-id="8740e-143">The plugin is not allowed to pop a dialog.</span></span> <span data-ttu-id="8740e-144">Tato kombinace je platná jenom pro .NET Framework moduly plug-in.</span><span class="sxs-lookup"><span data-stu-id="8740e-144">This combination is only valid for .NET Framework plugins</span></span> |
| <span data-ttu-id="8740e-145">true</span><span class="sxs-lookup"><span data-stu-id="8740e-145">true</span></span> | <span data-ttu-id="8740e-146">false</span><span class="sxs-lookup"><span data-stu-id="8740e-146">false</span></span> | <span data-ttu-id="8740e-147">Přepínač IsNonInteractive má přednost před přepínačem dialogu.</span><span class="sxs-lookup"><span data-stu-id="8740e-147">The IsNonInteractive switch takes precedence over the dialog switch.</span></span> <span data-ttu-id="8740e-148">Modul plug-in není povolený blokování.</span><span class="sxs-lookup"><span data-stu-id="8740e-148">The plugin is not allowed to block.</span></span> <span data-ttu-id="8740e-149">Tato kombinace je platná jenom pro moduly plug-in .NET Core.</span><span class="sxs-lookup"><span data-stu-id="8740e-149">This combination is only valid for .NET Core plugins</span></span> |
| <span data-ttu-id="8740e-150">false</span><span class="sxs-lookup"><span data-stu-id="8740e-150">false</span></span> | <span data-ttu-id="8740e-151">true</span><span class="sxs-lookup"><span data-stu-id="8740e-151">true</span></span> | <span data-ttu-id="8740e-152">Modul plug-in by měl zobrazovat dialogové okno.</span><span class="sxs-lookup"><span data-stu-id="8740e-152">The plugin should show a dialog.</span></span> <span data-ttu-id="8740e-153">Tato kombinace je platná jenom pro .NET Framework moduly plug-in.</span><span class="sxs-lookup"><span data-stu-id="8740e-153">This combination is only valid for .NET Framework plugins</span></span> |
| <span data-ttu-id="8740e-154">false</span><span class="sxs-lookup"><span data-stu-id="8740e-154">false</span></span> | <span data-ttu-id="8740e-155">false</span><span class="sxs-lookup"><span data-stu-id="8740e-155">false</span></span> | <span data-ttu-id="8740e-156">Modul plug-in nemůže zobrazit dialog.</span><span class="sxs-lookup"><span data-stu-id="8740e-156">The plugin should/can not show a dialog.</span></span> <span data-ttu-id="8740e-157">Modul plug-in by měl použít tok zařízení k ověření protokolováním zprávy instrukcí prostřednictvím protokolovacího nástroje.</span><span class="sxs-lookup"><span data-stu-id="8740e-157">The plugin should use device flow to authenticate by logging an instruction message via the logger.</span></span> <span data-ttu-id="8740e-158">Tato kombinace je platná jenom pro moduly plug-in .NET Core.</span><span class="sxs-lookup"><span data-stu-id="8740e-158">This combination is only valid for .NET Core plugins</span></span> |

<span data-ttu-id="8740e-159">Než začnete psát modul plug-in, přečtěte si následující specifikace.</span><span class="sxs-lookup"><span data-stu-id="8740e-159">Please refer to the following specs before writing a plugin.</span></span>

- [<span data-ttu-id="8740e-160">Modul plug-in pro stažení balíčku NuGet</span><span class="sxs-lookup"><span data-stu-id="8740e-160">NuGet Package Download Plugin</span></span>](https://github.com/NuGet/Home/wiki/NuGet-Package-Download-Plugin)
- [<span data-ttu-id="8740e-161">Modul plug-in NuGet pro ověřování přes NuGet</span><span class="sxs-lookup"><span data-stu-id="8740e-161">NuGet cross plat authentication plugin</span></span>](https://github.com/NuGet/Home/wiki/NuGet-cross-plat-authentication-plugin)
